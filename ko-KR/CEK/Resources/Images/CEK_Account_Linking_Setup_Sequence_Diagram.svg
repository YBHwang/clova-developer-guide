<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1063px" preserveAspectRatio="none" style="width:862px;height:1063px;" version="1.1" viewBox="0 0 862 1063" width="862px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="467.3418" style="stroke: #000000; stroke-width: 1.0;" width="10" x="179.5" y="334.3418"/><rect fill="#FFFFFF" height="30" style="stroke: #000000; stroke-width: 1.0;" width="10" x="358.5" y="253.8594"/><rect fill="#FFFFFF" height="50.4824" style="stroke: #000000; stroke-width: 1.0;" width="10" x="358.5" y="384.8242"/><rect fill="#FFFFFF" height="231.4121" style="stroke: #000000; stroke-width: 1.0;" width="10" x="358.5" y="801.6836"/><rect fill="#FFFFFF" height="9" style="stroke: #000000; stroke-width: 1.0;" width="10" x="690" y="1033.0957"/><rect fill="#FFFFFF" height="50.4824" style="stroke: #000000; stroke-width: 1.0;" width="10" x="799" y="485.7891"/><rect fill="#FFFFFF" height="50.4824" style="stroke: #000000; stroke-width: 1.0;" width="10" x="799" y="700.7188"/><rect fill="#FFFFFF" height="50.4824" style="stroke: #000000; stroke-width: 1.0;" width="10" x="799" y="852.166"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="40" x2="40" y1="102.4824" y2="1051.0957"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="184.5" x2="184.5" y1="102.4824" y2="1051.0957"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="363" x2="363" y1="102.4824" y2="1051.0957"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="600" x2="600" y1="102.4824" y2="1051.0957"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="695" x2="695" y1="102.4824" y2="1051.0957"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="804" x2="804" y1="102.4824" y2="1051.0957"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="18" y="89.8457">사용자</text><ellipse cx="40.5" cy="13" fill="#FEFECE" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M40.5,21 L40.5,48 M27.5,29 L53.5,29 M40.5,48 L27.5,63 M40.5,48 L53.5,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="72.459" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="128" x="120.5" y="29.0234"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="137.5" y="62.1768">클라이언트 앱</text><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="143" y="81.4063">or 페어링 앱</text><rect fill="#05D686" height="53.2295" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="63" x="332" y="48.2529"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="349" y="81.4063">CEK</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="578" y="89.8457">개발자</text><ellipse cx="600.5" cy="13" fill="#9EA0CA" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M600.5,21 L600.5,48 M587.5,29 L613.5,29 M600.5,48 L587.5,63 M600.5,48 L613.5,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="53.2295" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="104" x="643" y="48.2529"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="660" y="81.4063">Extension</text><rect fill="#9EA0CA" height="53.2295" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="94" x="757" y="48.2529"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="774" y="81.4063">인증서버</text><rect fill="#FFFFFF" height="467.3418" style="stroke: #000000; stroke-width: 1.0;" width="10" x="179.5" y="334.3418"/><rect fill="#FFFFFF" height="30" style="stroke: #000000; stroke-width: 1.0;" width="10" x="358.5" y="253.8594"/><rect fill="#FFFFFF" height="50.4824" style="stroke: #000000; stroke-width: 1.0;" width="10" x="358.5" y="384.8242"/><rect fill="#FFFFFF" height="231.4121" style="stroke: #000000; stroke-width: 1.0;" width="10" x="358.5" y="801.6836"/><rect fill="#FFFFFF" height="9" style="stroke: #000000; stroke-width: 1.0;" width="10" x="690" y="1033.0957"/><rect fill="#FFFFFF" height="50.4824" style="stroke: #000000; stroke-width: 1.0;" width="10" x="799" y="485.7891"/><rect fill="#FFFFFF" height="50.4824" style="stroke: #000000; stroke-width: 1.0;" width="10" x="799" y="700.7188"/><rect fill="#FFFFFF" height="50.4824" style="stroke: #000000; stroke-width: 1.0;" width="10" x="799" y="852.166"/><line style="stroke: #000000; stroke-width: 1.0;" x1="368.5" x2="378.5" y1="253.8594" y2="249.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="368.5" x2="378.5" y1="253.8594" y2="257.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="368.5" x2="599.5" y1="253.8594" y2="253.8594"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="193" x="388" y="140.3281">인증 관련 정보 사전 등록(OAuth 2.0)</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="388" y="156.8105">- Authorization URL</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="388" y="173.293">- Client ID</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="388" y="189.7754">- Client Secret</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="388" y="206.2578">- Redirect URI</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="388" y="222.7402">- Access Token URI</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="16" x="388" y="239.2227">- ...</text><line style="stroke: #000000; stroke-width: 1.0;" x1="177.5" x2="167.5" y1="334.3418" y2="330.3418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="177.5" x2="167.5" y1="334.3418" y2="338.3418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="40.5" x2="178.5" y1="334.3418" y2="334.3418"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="63.5" y="319.7051">Extension 활성화</text><line style="stroke: #000000; stroke-width: 1.0;" x1="356.5" x2="346.5" y1="384.8242" y2="380.8242"/><line style="stroke: #000000; stroke-width: 1.0;" x1="356.5" x2="346.5" y1="384.8242" y2="388.8242"/><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="357.5" y1="384.8242" y2="384.8242"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="211.5" y="370.1875">Authorization URL 요청</text><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="199.5" y1="435.3066" y2="431.3066"/><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="199.5" y1="435.3066" y2="439.3066"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="189.5" x2="362.5" y1="435.3066" y2="435.3066"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="214" y="420.6699">Authorization URL 반환</text><line style="stroke: #000000; stroke-width: 1.0;" x1="797" x2="787" y1="485.7891" y2="481.7891"/><line style="stroke: #000000; stroke-width: 1.0;" x1="797" x2="787" y1="485.7891" y2="489.7891"/><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="798" y1="485.7891" y2="485.7891"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="390.25" y="471.1523">로그인 페이지 요청(Authorization URL)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="199.5" y1="536.2715" y2="532.2715"/><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="199.5" y1="536.2715" y2="540.2715"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="189.5" x2="803" y1="536.2715" y2="536.2715"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="445.75" y="521.6348">로그인 페이지 반환</text><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="231.5" y1="586.7539" y2="586.7539"/><line style="stroke: #000000; stroke-width: 1.0;" x1="231.5" x2="231.5" y1="586.7539" y2="599.7539"/><line style="stroke: #000000; stroke-width: 1.0;" x1="190.5" x2="231.5" y1="599.7539" y2="599.7539"/><polygon fill="#000000" points="200.5,595.7539,190.5,599.7539,200.5,603.7539,196.5,599.7539" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="206.5" y="572.1172">로그인 페이지 표시</text><line style="stroke: #000000; stroke-width: 1.0;" x1="177.5" x2="167.5" y1="650.2363" y2="646.2363"/><line style="stroke: #000000; stroke-width: 1.0;" x1="177.5" x2="167.5" y1="650.2363" y2="654.2363"/><line style="stroke: #000000; stroke-width: 1.0;" x1="40.5" x2="178.5" y1="650.2363" y2="650.2363"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="62.5" y="635.5996">계정 인증(로그인)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="797" x2="787" y1="700.7188" y2="696.7188"/><line style="stroke: #000000; stroke-width: 1.0;" x1="797" x2="787" y1="700.7188" y2="704.7188"/><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="798" y1="700.7188" y2="700.7188"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="468.75" y="686.082">인증 요청</text><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="199.5" y1="751.2012" y2="747.2012"/><line style="stroke: #000000; stroke-width: 1.0;" x1="189.5" x2="199.5" y1="751.2012" y2="755.2012"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="189.5" x2="803" y1="751.2012" y2="751.2012"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="234" x="379.75" y="736.5645">Authorization code와 함께 redirect URI 전달</text><line style="stroke: #000000; stroke-width: 1.0;" x1="356.5" x2="346.5" y1="801.6836" y2="797.6836"/><line style="stroke: #000000; stroke-width: 1.0;" x1="356.5" x2="346.5" y1="801.6836" y2="805.6836"/><line style="stroke: #000000; stroke-width: 1.0;" x1="184.5" x2="357.5" y1="801.6836" y2="801.6836"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127" x="208" y="787.0469">Authorization code 반환</text><line style="stroke: #000000; stroke-width: 1.0;" x1="797" x2="787" y1="852.166" y2="848.166"/><line style="stroke: #000000; stroke-width: 1.0;" x1="797" x2="787" y1="852.166" y2="856.166"/><line style="stroke: #000000; stroke-width: 1.0;" x1="368.5" x2="798" y1="852.166" y2="852.166"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="306" x="430.75" y="837.5293">Access Token URI로 authorization code 파라미터로 전달</text><line style="stroke: #000000; stroke-width: 1.0;" x1="368.5" x2="378.5" y1="902.6484" y2="898.6484"/><line style="stroke: #000000; stroke-width: 1.0;" x1="368.5" x2="378.5" y1="902.6484" y2="906.6484"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="368.5" x2="803" y1="902.6484" y2="902.6484"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="536.25" y="888.0117">access token 반환</text><line style="stroke: #000000; stroke-width: 1.0;" x1="368.5" x2="410.5" y1="969.6133" y2="969.6133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="410.5" x2="410.5" y1="969.6133" y2="982.6133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="369.5" x2="410.5" y1="982.6133" y2="982.6133"/><polygon fill="#000000" points="379.5,978.6133,369.5,982.6133,379.5,986.6133,375.5,982.6133" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="385.5" y="938.4941">사용자 계정 정보에</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="385.5" y="954.9766">access token 저장</text><line style="stroke: #000000; stroke-width: 1.0;" x1="688" x2="678" y1="1033.0957" y2="1029.0957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="688" x2="678" y1="1033.0957" y2="1037.0957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="363.5" x2="689" y1="1033.0957" y2="1033.0957"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="205" x="424.25" y="1018.459">Access token과 함께 사용자 요청 전달</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor "사용자" as user
participant "클라이언트 앱\nor 페어링 앱" as app #9EA0CA
participant CEK as cek #05D686
actor "개발자" as dev #9EA0CA
participant Extension as ext #9EA0CA
participant "인증서버" as auth #9EA0CA

dev ->> cek: 인증 관련 정보 사전 등록(OAuth 2.0)\l- Authorization URL\l- Client ID\l- Client Secret\l- Redirect URI\l- Access Token URI\l- ...

activate cek
deactivate cek

user ->> app: Extension 활성화

activate app
  app ->> cek: Authorization URL 요청

  activate cek
    cek - ->> app: Authorization URL 반환
  deactivate cek

  app ->> auth: 로그인 페이지 요청(Authorization URL)

  activate auth
    auth - ->> app: 로그인 페이지 반환
  deactivate auth

  app -> app: 로그인 페이지 표시
  user ->> app: 계정 인증(로그인)
  app ->> auth: 인증 요청

  activate auth
  auth - ->> app: Authorization code와 함께 redirect URI 전달
  deactivate auth

  app ->> cek: Authorization code 반환
deactivate app

  activate cek
      cek ->> auth: Access Token URI로 authorization code 파라미터로 전달
      activate auth
        auth - ->> cek: access token 반환
      deactivate auth

    cek -> cek: 사용자 계정 정보에\naccess token 저장
    cek ->> ext: Access token과 함께 사용자 요청 전달
    deactivate cek
    activate ext

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS949
Language: ko
Country: KR
--></g></svg>
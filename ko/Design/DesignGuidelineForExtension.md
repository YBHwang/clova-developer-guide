# Extension 디자인 가이드라인

새로운 extension을 만들 때 보유하고 있는 기술이나 서비스가 Clova를 통해 사용자에게 어떻게 편리함과 이익을 가져다 줄 수 있는지 생각하는 설계 활동을 가장 먼저해야 합니다. 이 문서는 사용자에게 건전하고 유익한 서비스를 제공하기 위해 extension을 설계할 때 어떤 사항을 지키거나 따라야 하는지 가이드라인을 제공합니다.

여기서 다루는 내용은 되도록이면 지켜야 하는 기본적인 권장 사항이며 이른 간단한 예시와 함께 설명하고 있습니다. 물론, 보유하고 계신 사업적 경험과 서비스의 특성에 따라 extension이 더 많은 가능성을 가지도록 설계/구현할 수도 있습니다. Clova 플랫폼을 통해 다음과 같은 종류의 extension을 제작해볼 수 있습니다.

* 웹 서비스의 정보 조회
* 쇼핑 및 배달 서비스
* 대화형 게임
* 방송 또는 실시간 브리핑
* IoT 기기 제어
* 그 밖의 음성을 통한 활동이나 서비스 제공

어떤 종류의 extension을 만들지 결정했다면 다음과 같은 사항들을 설계 및 개발할 때 수행 및 준수해야 합니다.

* [목표 수립](#SettingGoal)
* [사용 시나리오 작성](#MakeUseCaseScenarioScript)
* [유의사항](#Precautions)
* [지속적인 업데이트](#ContinuousUpdate)

## 목표 수립 {#SettingGoal}

우선 Extension의 목표를 정해야 합니다. Extension의 목표는 구체적으로 사용자에게 무엇을 어떻게 전달할 것인지 정하는 것이라고 보면 됩니다. Extension의 목표를 정하는 것은 추후 사용자에게 어떤 기능을 제공하고 이 기능 제공하기 위해 어떤 사용 시나리오를 가질 수 있을지 예상하는 근거가 됩니다. Extension의 목표는 다음과 같은 하나의 근본적이고 추상적인 목표가 있을 수 있습니다.

```
사용자에게 피자 배달 서비스를 제공한다.
```

위와 같이 정한 extension 목표는 좀 더 구체적이고 세부적인 하위 목표들로 다시 기술될 수 있습니다. 하위 목표를 작성할 때는 다음과 같은 항목을 참고하여 정의합니다.

* 하위 목표는 사용자의 입장에서 작성합니다.
* 하위 목표에는 사용자가 extension을 어떻게 호출할 수 있는지에 대한 내용도 포함합니다.
* 목표 달성에 필요한 조건과 성취하게 되는 결과를 조합하여 작성할 것을 권장합니다. 필요 조건에는 다음과 같은 것들이 있을 수 있습니다.
  - 사전 필요 동작이나 상태
  - Extension이 필요로 하는 기능이나 자원(GPS, 카메라, 마이크)
  - 외부 서비스나 플랫폼의 정보 (모바일 기기 연락처 정보, SNS 계정 정보)
* 하위 목표가 달성하려는 extension 목표의 범위를 모두 포함하고 있는지 확인합니다.
* 하나의 하위 목표는 되도록이면 서비스에서 구분되는 하나의 사용자 액션 단위와 같은 것을 권장합니다.

다음은 피자 배달 서비스를 고려하여 만든 하위 목표 예제입니다.

```
- Sub goal #1: 사용자가 "피자봇에게~"로 발화를 시작하면 피자 배달 서비스를 사용할 수 있다.
- Sub goal #2: 사용자는 음성으로 피자 메뉴를 조회할 수 있다.
- Sub goal #3: 사용자가 음성으로 피자 종류와 수량을 말하면 피자 주문을 할 수 있다.
- Sub goal #4: 사용자는 GPS를 이용하여 배달 목적지 정보를 입력할 수 있다.
- Sub goal #5: 사용자는 카메라를 이용하여 결제 시 쿠폰을 적용할 수 있다.
- Sub goal #6: 사용자가 주문을 완료하면 이후 피자 준비 및 배달 상황을 조회할 수 있다.
...
```

이렇게 작성된 하위 목표들은 [사용 시나리오를 작성](#MakeUseCaseScenarioScript)하거나 [interaction 모델](/DevConsole/Guides/CEK/Define_Interaction_Model.md)을 정의하는 기반 정보가 됩니다.

## 사용 시나리오 스크립트 작성 {#MakeUseCaseScenarioScript}

사용 시나리오 스크립트는 사용자와 Clova 사이의 대화를 미리 예상한 것입니다. 하위 목표를 기반으로 다양한 사용 시나리오에 사용자와 Clova의 대화를 미리 예상해 봄으로써 서비스의 편의성, 흐름 등을 점검할 수 있습니다. [목표 수립](#SettingGoal)에서 정한 하위 목표를 기준으로 예상되는 사용 시나리오를 스크립트로 작성할 것을 권장합니다. 이는 추후 [interaction 모델](/DevConsole/Guides/CEK/Define_Interaction_Model.md)을 정의할 때 재사용될 수 있습니다.

스크립트를 작성할 때는 다음을 고려하여 작성할 것을 권장합니다.
* 사용자와 기기 간의 상호 작용은 최대한 짧고 간략하게 하도록 스크립트를 작성합니다.
* 문어체 보다는 구어체 형식으로 스크립트를 작성합니다.
* 스크립트를 작성할 때 반복적인 표현은 피하는 것을 권장합니다.
* 항상 의도하지 않은 사용자의 요청이나 상황이 발생할 수 있음을 염두에 둬야 합니다.
* 정보를 제공할 때 너무 많은 선택지를 주지 않습니다. (3개 이하 권장)

다음은 사용 시나리오 스크립트를 작성한 예입니다.

| 발화 주체   | 발화 예시                                             | 관련 하위 목표  |
|-----------|-----------------------------------------------------|-------------|
| 사용자      | 클로바, 피자 좀 시켜줘                                   | #1 |
| Extension | 안녕하세요. 배달리스트입니다. 자주 먹는 피자 배달 전문점은 OOO, OOO가 있습니다. 어느 곳으로 하시겠습니까?  |         |
| 사용자      | OOO피자 해줘                                          | #2  |
| Extension | OOO피자에서 주문을 시작할게요. 현재 OOOO, OOOOO, OOOO가 있습니다. |           |
| 사용자      | OOOO피자                                             | #3  |
| Extension | OOOO피자를 주문합니다. 사이드 메뉴를 선택하시겠어요? 10초간 답변이 없거나 “다음” 또는 “그냥 주문”이라고 말씀해주시면 추가하지 않고 주문할게요. |   |
| 사용자      | 그냥 주문                                              | #4   |
| Extension | 주문 내역을 확인합니다. OOOOOO를 주문하셨습니다. 최근 주문한 주소는 OOOOOOO입니다. 이곳으로 주문하시겠어요? | #5  |
| 사용자      | 응                                                   | #6   |
| Extension | 주문 정보를 선택해주세요. 현장결제 또는 간편결제 중 선택해주세요.   |                |
| 사용자      | 현장결제                                               | #7  |
| Extension | 주문 정보를 전달중입니다….(로딩중) 주문이 완료되었습니다. OOO피자 OOO점에서 배달 예정이며, 배달 도착까지는 20분 정도 소요될 예정입니다.  |   |

## 유의사항 {#PrecautionsForExtension}

Extension을 개발할 때 다음과 같은 사회적인 또는 법적인 문제가 없는지 미리 파악하여 문제가 발생하지 않도록 반드시 주의해야 합니다. Extension을 설계하는 단계뿐만 아니라 extension을 Clova에 등록하거나 배포할 때에도 아래 사항을 한 번 더 검토할 것을 권고합니다.

* 저작권 보호 의무에 대한 위반 사항이 없는지 검토
* 개인 정보 보호 의무에 대한 위반 사항이 없는지 검토
* 서비스 연결이나 데이터 제공이 일회적이지 않고 지속적일 수 있는지 검토
* 아동 또는 일반 사용자에게 해를 줄 수 있는 선정적인 콘텐츠가 없는지 검토

## 지속적인 업데이트 {#ContinuousUpdate}

Extension을 개발할 때 사용자가 어떤 발화를 할지 예측하여 시나리오를 만들고 이를 extension에 적용합니다. 이런 활동은 Extension을 개발할 때 도움이 되지만 사용자들이 실제 이용하는 방식가 차이가 있을 수 있고 사용자의 모든 패턴을 표현할 수 없습니다. 즉, 사용자는 예상과 다르게 extension을 사용할 수 있습니다. 따라서, Extension을 배포한 이후에도 extension의 기능이나 대화 흐름을 지속적으로 개선하는 활동을 해야 사용자의 만족도를 향상시킬 수 있습니다.

Extension 등록한 후 Clova 플랫폼이 제공하는 통계 데이터나 유입된 사용자 발화 기록(추후 제공 예정) 분석하여 꾸준히 extension을 업데이트해야 합니다.

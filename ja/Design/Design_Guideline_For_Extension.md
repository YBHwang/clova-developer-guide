# Extensionのデザインガイドライン

新規のExtensionを作成する際、すでに持っている技術やサービスを、どうすればユーザーが心地よく利用できるか考慮して設計する必要があります。このドキュメントは、ユーザーの役に立つサービスを提供するために、Extensionを設計する際に守るべき事項についてのガイドラインを提供します。

ウェブサービスの情報照会、ショッピングおよび宅配サービス、対話型のゲーム、放送またはリアルタイムのブリーフィング、IoTデバイスの制御、その他の音声を使用したアクティビティやサービスを提供するExtensionを作成することができます。作成するExtensionの種類が決まったら、Extensionを設計する際、次の項目を守る必要があります。ちなみに、ここで扱っている内容はExtension設計の基本推奨事項で、簡単な例を挙げながら説明されています。お持ちのビジネス経験とサービスの特性によって、もっと多くの可能性を持つExtensionに設計・実装することもできます。

* [目標を設定する](#SettingGoal)
* [ユーザーシナリオスクリプトを作成する](#MakeUseCaseScenarioScript)
* [対話モデルを定義する](#DefineInteractionModel)
* [注意事項](#Precautions)
* [プラットフォームでサポートされる音声圧縮形式](#SupportedAudioCompressionFormat)
* [随時更新](#ContinuousUpdate)

## 目標を設定する {#SettingGoal}

Extensionの設計は、まず最初にExtensionの目標を設定することから始まります。Extensionの目標とは、具体的にユーザーに何をどうやって届けるかを決めることです。Extensionの目標を設定すると、これからユーザーにどんな機能を提供して、ユーザーがその機能をどんなシナリオで使用するか予測する根拠となります。Extensionの目標として、次のような根本的で抽象的な目標が一例として挙げられます。

```
ユーザーにピザの宅配サービスを提供する。
```

このように設定したExtensionの目標は、もっと具体的な詳細目標に書き換えることができます。詳細目標を定義する際、次の項目を参考する必要があります。

* 詳細目標は、ユーザーの立場で作成します。
* 詳細目標は、ユーザーがどうやってExtensionを呼び出すかを含めて作成します。
* 詳細目標を達成するための必要条件と、獲得する結果を組み合わせて作成することをお勧めします。必要条件には、次のようなものがあります。
  - 事前に必要な動作または状態
  - Extensionが必要とする機能やリソース(GPS、カメラ、マイク)
  - 外部サービスまたはプラットフォームの情報(モバイルデバイスの連絡先、SNSアカウントの情報)
* 詳細目標の集合が、達成しようとしているExtensionの目標の範囲をすべてカバーしているか確認します。
* 1つの詳細目標は、サービスで区別して処理する1つのユーザーアクションの単位と同じレベルに作成することをお勧めします。

以下は、ピザの宅配サービスを考慮して作成した詳細目標の例です。

| 詳細目標ID | カテゴリ                | 目標                                                            |
|------------|--------------------|---------------------------------------------------------------|
| #1         | サービスの呼び出し           | ユーザーが「ピザボットを起動して」または「ピザボットで_[登録した実行コマンド]_」で発話を始めると、ピザの宅配サービスを使用できる。    |
| #2         | 使用の提案または推奨     | ピザの宅配サービスが開始されると、ユーザーがピザを注文する際、予想される次の動作に関する案内が提供される。 |
| #3         | メニューの検索および選択      | ユーザーはピザのメニューを検索して選択できる。                                   |
| #4         | ブランドの検索および選択     | ユーザーはピザのブランドを選択できる。                                 |
| #5         | 注文および支払い          | ユーザーはピザの種類、数量および配達先の住所を入力して、ピザを注文できる。 |
| #6         | 使用の提案または推奨     | ユーザーがピザのブランドを選択すると、最近の注文履歴からピザの種類、配達先および支払い方法が提案される。 |
| #7         | 使用の提案または推奨     | ユーザーが他のメニューをリクエストすると、Extensionからメニューを推奨される。 |
| #8         | 注文および支払い          | ユーザーはカメラを使用してクーポンを利用できる。                    |
| #9         | 配達状況の照会             | 注文が完了すると、ユーザーはピザの準備および配達状況を照会できる。  |
| #10        | サービス終了            | ユーザーが希望する作業を完了すると、サービスを終了できる。
| ...        | ...                 | ...                                                            |

<div class="note">
  <p><strong>メモ</strong></p>
  <p>こうして作成された詳細目標は、<a href="#MakeUseCaseScenarioScript">ユーザーシナリオのスクリプトを作成</a>するか、<a href="#DefineInteractionModel">対話モデル</a>を定義する際に基盤情報となります。また、<a href="/DevConsole/Guides/CEK/Deploy_Extension.md#InputDeploymentInfo">Extensionを配布</a>する際にその情報を登録する必要があります。その情報に基づいて、Extensionが正しく動作するか<a href="/DevConsole/Guides/CEK/Deploy_Extension.md#RequestExtensionSubmission">審査</a>を受けることになります。</p>
</div>

## ユーザーシナリオスクリプトを作成する {#MakeUseCaseScenarioScript}

ユーザーシナリオのスクリプトは、ユーザーとClovaの対話をあらかじめ想定したものです。詳細目標に基づき、様々なユーザーシナリオで起こるユーザーとClovaの対話を予測することで、サービスの利便性、流れなどを点検することができます。[目標を設定する](#SettingGoal)で決めた詳細目標に基づいて、予想されるユーザーシナリオのスクリプトを作成します。後ほど[対話モデル](#DefineInteractionModel)を登録する際に再使用できます。

ユーザーシナリオのスクリプトは、次の事項を考慮して作成することをお勧めします。

* 書き言葉ではなく、話し言葉で作成します。
* Extensionが情報を提供する際、情報や選択肢を与えすぎないようにします。
* Extensionはユーザーに次の動作に関する案内や、サービスの使用を推奨する必要があります。
* 繰り返しの表現は避けることをお勧めします。
* 常に突発的なリクエストや状況が発生する可能性があるということを念頭に置く必要があります。

以下は、ユーザーシナリオを、連続するユーザーリクエストタイプと一時的な指示タイプに分けてスクリプトを作成した例です。
* 連続するユーザーリクエストタイプのシナリオ

| 発話の主体   | サンプル発話                                              | 関連詳細目標  |
|-----------|------------------------------------------------------|-------------|
| ユーザー      | ピザボットを起動して。                                        | #1        |
| Extension | こんにちは。ピザボットです。どういったご用件ですか?                | #2        |
| ユーザー      | ピザの種類は何があるの?                                        | #3           |
| Extension | コンビネーションピザ、ペパロニピザ、スーパー・シュプリームピザがあります。どれを注文しますか?  | #2、#3       |
| ユーザー      | コンビネーションピザを注文する。                                  | #3           |
| Extension | 登録されたピザ屋は、XXピザとYYピザがあります。どちらにしますか?      | #2、#4       |
| ユーザー      | XXピザにして。                                         | #4           |
| Extension | XXピザのXX店に、コンビネーションピザ1枚、コーラ1.5リットル1本をAA洞111番地に注文します。全部で23,000ウォン、配達員に直接お支払いできます。注文しますか?                 | #2、#6  |
| ユーザー      | 他のメニューを教えて。                                        | #7           |
| Extension | スーパー・シュプリームピザ1枚、コーラ1.5リットル1本をAA洞111番地に注文します。全部で26,500ウォン、配達員に直接お支払いできます。注文しますか? | #2、#7  |
| ユーザー      | うん。                                                  | #5           |
| Extension | 注文が完了しました。                                     | #2           |
| ユーザー | ピザボットを終了して。                                              | #10          |

* 一時的な指示タイプのシナリオ

| 発話の主体   | サンプル発話                                              | 関連詳細目標  |
|-----------|------------------------------------------------------|-------------|
| ユーザー      | ピザボットで注文の状況を確認して。                               | #1、#9      |
| Extension | ただいま配達中です。もう少しお待ちください。                 | #9          |


## 対話モデルを定義する {#DefineInteractionModel}

音声から認識されたユーザーのリクエストは、まずサービスの提供に必要なフォーマット(JSON)に変換され、その後Extensionに渡されます。例えば、ピザの宅配サービスを提供するCustom Extensionがあると仮定します。その場合、ユーザーから「ペパロニピザを2枚注文して」のようなリクエストが入力されることを予想できます。Clovaで対話モデルとは、そのようなユーザーのリクエストを、次のようにサービスの提供に必要な標準形式(JSON)に変換するルールを定義したものです。

![](/Design/Resources/Images/Extension_Design-Interaction_Model_Analysis_Diagram.png)

対話モデルをClova Developer Centerで定義するには、まず対話モデルとは何であるかを理解する必要があります。対話モデルをきちんと理解せずに定義してしまうと、パフォーマンスが低いか、ユーザーのリクエストを正しく処理できないExtensionになる可能性があります。ユーザーの実際の意図をうまく把握する対話モデルを作成するためには、対話モデルを作成する前に、まず以下の内容を理解して、設計に反映する必要があります。

* [インテント](#Intent)
* [スロット](#Slot)
* [サンプル発話](#UtteranceExample)

### インテント(Intent) {#Intent}

インテントは、Extensionが処理するユーザーのリクエストを区分したカテゴリーです。主にユーザーの発話で使われた**動詞**型の要素によって区別されます。インテントには、カスタムインテントとビルトインインテントの2種類があります。

* [カスタムインテント](#CustomIntent)
* [ビルトインインテント](#BuiltinIntent)

#### カスタムインテント {#CustomIntent}

カスタムインテントはビルトインインテントとは違って、提供するサービスに特化したユーザーリクエストのカテゴリーを定義した仕様です。次のような内容が定義されています。
* サービスが処理するユーザーリクエストのカテゴリ
* ユーザーリクエストのカテゴリーごとに必要とする情報([スロット](#Slot))
* ユーザーリクエストのカテゴリーごとに予想される様々な[サンプル発話](#UtteranceExample)

先ほど例として挙げたピザの宅配サービスの場合、次のようなリクエストのカテゴリーを考えられます。

* メニュー検索のリクエスト
* 注文のリクエスト
* 配達状況確認のリクエスト

ピザの宅配サービス(Extension)の対話モデルを定義するということは、メニュー検索インテント、注文インテント、配達状況確認インテントのようにインテントのリストを宣言して、それぞれのインテントが必要とする情報(スロット)とサンプル発話を列挙するものです。従って、**対話モデルを定義する際、一番最初に、Extensionが処理するリクエストのカテゴリーを定義し、列挙する**必要があります。それはExtensionを開発する際に、ビジネスロジックでプログラムの分岐を分ける基準にもなります。

![](/Design/Resources/Images/Extension_Design-Design_Interaction_Model.png)

**ユーザーリクエストのカテゴリーを区分したら、次はカテゴリーごとに名前を定義します。**インテント名です。ピザの宅配サービスの「注文インテント」のようなものは、あくまで抽象的な概念です。それをExtensionが認識できる具体的な名前、つまり識別できる文字列として宣言する必要があるのです。例えば、「注文インテント」は、「OrderPizza」のような名前で宣言することができます。

次に、「OrderPizza」インテントがユーザーの発話から**取得する情報([スロット](#Slot))を定義**し、処理できる**様々な[サンプル発話](#UtteranceExample)を列挙**します。

#### ビルトインインテント {#BuiltinIntent}

ビルトインインテントは、Clovaプラットフォームが一部の共通したユーザーリクエストのカテゴリーを決め、それを共有するために宣言した仕様です。頻繁に発生するインテントとして、次のようなリクエストがあらかじめ定義されています。

| ビルトインインテントの名前       | 意図               | ユーザーのサンプル発話                                      |
|---------------------------|-------------------|----------------------------------------------------------|
| Clova.GuideIntent         | ヘルプのリクエスト          | 「あんた何ができるの?」「使い方を教えて」                           |
| Clova.CancelIntent        | 実行キャンセルのリクエスト        | 「キャンセル」「キャンセルして」                                          |
| Clova.YesIntent           | 肯定の返事(はい、Yes)   | 「うん」「いいよ」「わかった」「わかりました」「オッケー」                   |
| Clova.NoIntent            | 否定の返事(いいえ、No) | 「いや」「いいえ」「いらない」                                     |

### スロット {#Slot}

スロットは、ユーザーの発話から取得される情報です。ユーザーの発話で使われた**名詞**型の要素がスロットになります。[カスタムインテント](#Intent)を定義する際、そのインテントが必要とするスロットを一緒に定義する必要があります。ソフトウェアの開発に例えると、インテントは特定のカテゴリーのユーザーリクエストを処理する関数またはハンドラーで、スロットはその関数やハンドラーに必要なパラメータに該当します。先ほど例として挙げた「ペパロニピザを2枚注文して」というユーザーの発話の場合、「OrderPizza」インテントを処理するには、「ペパロニピザ」のような、ピザの種類に関する情報と、「2枚」のような数量に関する情報が必要なことがわかります。インテントを定義する際、そのインテントがどんな情報(スロット)を必要とするかをあらかじめ把握しておく必要があります。

また、スロットを宣言する際には、そのスロットがどんなタイプの情報かを区分する必要があります。それがスロットタイプです。スロットタイプは、ビルトインスロットタイプとカスタムスロットタイプの2種類があります。

* [ビルトインスロットタイプ](#BuiltinSlotType)
* [カスタムスロットタイプ](#CustomSlotType)

#### ビルトインスロットタイプ {#BuiltinSlotType}

ビルトインスロットタイプは、Clovaであらかじめ定義されている情報タイプです。すべてのサービス(Extension)で共通で使用できる情報の表現が定義されています。ビルトインスロットタイプは、主に時間、場所、数量などのような情報を認識する必要がある場合に使用されます。上記の発話の場合、「2枚」に該当する情報を認識するためにビルトインスロットタイプを使用することができます。Clovaは、次のようなビルトインスロットタイプを提供しています。

| ビルトインスロットタイプ名 | 説明                                            |
| ----------------------|------------------------------------------------|
| CLOVA.DATETIME      | 日付および時刻の表現に該当する情報です。(例：「10分30秒」「午前9時」「1時間前」「12時」「正午」「2017年8月4日」「前月最終日」) |
| CLOVA.DURATION      | 期間の表現に該当する情報です。(例：「1日」「1晩」「1か月」「来週」「週末」) |
| CLOVA.NUMBER        | 数字の表現に該当する情報です。助数詞を含みます。(例：「一度」「7人」「1つ」「30歳」「8くらい」「16マス」) |
| CLOVA.RELATIVETIME  | 相対的な時間の表現に該当する情報です。(例：「これから」「後で」「しばらくして」「ついさっき」「先ほど」) |
| CLOVA.UNIT          | 単位の表現に該当する情報です。(例：「113坪」「100MB」「25マイル」) |
| CLOVA.ORDER         | 順序の表現に該当する情報です。(例：「ネクスト」「先」「前」「最後」「次」「今度」「以前」「最終」) |
| CLOVA.KO_ADDRESS_[行政区画の単位] | 国内の行政区画の単位による地名の表現を表す情報です。Clovaで提供される行政区画の単位は、Clova Developer Centerから確認できます。 |
| CLOVA.WORLD_COUNTRY | 世界の国家名の表現に該当する情報です。(例：「ガーナ」「日本」「韓国」「フランス」) |
| CLOVA.WORLD_CITY    | 世界の都市名の表現に該当する情報です。(例：「ニューヨーク」「パリ」「ロンドン」) |
| CLOVA.CURRENCY      | 通貨の表現に該当する情報です。(例：「元」「円」「ドル」「ロシアの貨幣」「イギリスの通貨」) |
| CLOVA.OFFICIALDATE  | 休日および祝日、記念日の表現に該当する情報です。(例：「立春」「お正月」「釈迦(しゃか)の誕生日」「独立記念日」) |

#### カスタムスロットタイプ {#CustomSlotType}

カスタムスロットタイプは、提供するサービス(Extension)のドメインに特化した情報のタイプを定義したものです。カスタムスロットタイプは、主に固有名詞または一般名詞を指定して作成します。例えば、上記の発話で「OrderPizza」インテントで、ピザの種類に該当する情報(スロット)をユーザーの発話から把握する必要があります。また、ピザの種類を示す表現は、ピザに関するサービスでのみ使用される可能性が高いです。従って、「PIZZA_TYPE」のようなカスタムスロットタイプを定義し、そのカスタムスロットタイプに、ピザの宅配サービスで注文できる「ペパロニピザ」「コンビネーションピザ」「チーズピザ」などの項目が使用されると宣言することができます。

ただし、同じ意味を持つ言葉でも、実際の発話では様々な言い方で表現されることがあります。「バーベキューピザ」は「BBQピザ」のような同義語を持ち、「シュリンプ・ゴールドクラストピザ」のような長い名前の場合、「シュリンプ・ゴルクラ」のようによく使われる短縮表現が存在する可能性があります。従って、カスタムスロットタイプを定義する際には、概念的に区別される項目だけでなく、その項目ごとに代表語と同義語・類義語を定義する必要があります。そうすることで、ユーザーの発話を認識する際に、様々な言い方で表現される同義語や類義語を代表語に変換できます。また、Extensionがインテントを処理する際に、同じ概念に該当する情報を一貫した値で渡すことができます。

上記のようにスロットタイプを定義したら、次はそれぞれのインテントで使用するスロットの名前を定義し、そのスロットがどんなスロットタイプを持つか宣言する必要があります。例えば、「OrderPizza」インテントは、ピザの種類に関する情報のために「pizzaType」、ピザの数量に関する情報のために「pizzaAmount」というスロットを宣言できます。それと同時に、スロットごとにあらかじめ定義した「PIZZA_TYPE」のカスタムスロットタイプと、すでに提供されている「CLOVA.NUMBER」のビルトインスロットタイプを指定することができます。

### サンプル発話 {#UtteranceExample}
インテントを定義する際、様々なのサンプル発話を列挙することができます。サンプル発話は、Clovaが同じ意図を持つ様々な言い方を認識するにあたって必要な基本データで、ユーザーの発話のうち、スロットに該当する情報を把握する際に利用されます。サンプル発話を適切に入力しておくと、ユーザーの意図を正しく認識する対話モデルを作成することができます。サンプル発話は、なるべく次の事項に従って作成することをお勧めします。

* 同じ意図を持っているが、違う言い方で表現されるサンプル発話を十分に入力します。
* パターンが重複しないように、言い方には様々なバリエーションを持たせて発話サンプルを作成します。
* サンプル発話の数は、次の基準に従います。
  * インテントにビルトインスロットタイプが使用されているか、または人間がすべて認知できるサイズの辞書を持つカスタムスロットタイプの場合、そのスロットが含まれる文章を少なくとも30個以上作成する必要があります。
  * インテントにアーティスト名、曲名、映画のタイトル、会社名など、サイズの大きな辞書を持つスロットタイプが使用されている場合、そのスロットが含まれる文章を少なくとも100個以上作成する必要があります。
  * 簡単な表現を持つインテントの場合、10個以内のサンプル発話だけで十分です。
* 上記の基準でサンプル発話を入力した後、新しい表現やうまく認識されない表現が見つかる度に、サンプル発話を追加することをお勧めします。
* スロットタイプの辞書に、スロットに該当するか否かの判断が難しい値がある場合、その値をサンプル発話として使用することで、スロットであることを明示することもできます。ですが、スロットタイプに曖昧な値が含まれないようにすることをお勧めします。

サンプル発話をたくさん入力しながらも、パターンが重複しないようにするという推奨事項について、以下の図を参照してください。

![](/Design/Resources/Images/Extension_Design-Diagram_for_Utterance_Example.png)

例えば、ピザの宅配サービスで、注文に関するインテント(OrderPizza)に、以下のようなサンプル発話を作成したと仮定します。

```
ペパロニピザ1枚頼んで。
ペパロニピザ1枚注文してちょうだい。
ペパロニピザ1枚出前取って。
ペパロニピザ1枚宅配でお願い。
```

Clovaが上記のサンプル発話で学習した場合、`"페퍼로니"`や`"1판"`という値がユーザーの発話に含まれると、その発話は`OrderPizza`インテントとして認識される可能性が高いです。例えば、「ペパロニピザ1枚いくらなの?」などのように、メニューの検索を予想した発話が、ピザの注文をリクエストした発話として処理される可能性があります。

サンプル発話は次のように作成することをお勧めします。

```
ペパロニピザ2枚頼んで。
BBQピザ1つ出前取ってくれる?
コンビネーション3つ宅配でお願い。
シュリンプ・ゴルクラピザ早くお願い、お腹空いてるの。
```

発話が名詞(ピザの種類)、名詞(数量)、動詞(意図)のパターンで構成されていて、日常で使用される助詞、語尾、副詞、感嘆詞なども含まれています。発話のパターンがすべてまとまると、そのパターンを再使用して、スロットの値を変えながらサンプル発話を推奨基準まで追加します。その際、次の事項に注意します。
* サンプル発話に使用されたスロットの値を変えながら文章を追加します。
* 助詞、語尾、副詞、感嘆詞などの使用にバリエーションを与えながら文章を追加します。
* **特定の値の組み合わせが何度も使用されないように注意します。**例えば、「ペパロニピザ2枚頼んで」と「ペパロニピザを1枚だけ頼んでください」の場合、語尾、助詞、数量は変えましたが、`"페퍼로니"`と`"시켜주다"`という値の組み合わせが重複しています。

```
バーベキュー5つ早く注文して。
ペパロニ1枚食べるからね。
ベジタリアンピザお願い。
おいしいチーズピザを4つ注文してちょうだい。
```

「OrderPizza」インテントに関する発話をテキストで列挙し、スロットに該当する部分を次のように表示します。

{% raw %}

```
<pizzaType>ペパロニピザ</pizzaType><pizzaAmount>2枚</pizzaAmount>頼んで。
<pizzaType>BBQピザ</pizzaType><pizzaAmount>1つ</pizzaAmount>出前取ってくれる?
<pizzaType>コンビネーション</pizzaType><pizzaAmount>3つ</pizzaAmount>宅配でお願い。
<pizzaType>シュリンプ・ゴルクラピザ</pizzaType>早くお願い、お腹空いてるの。
<pizzaType>バーベキュー</pizzaType><pizzaAmount>5つ</pizzaAmount>早く注文して。
<pizzaType>ペパロニ</pizzaType><pizzaAmount>1枚</pizzaAmount>食べるからね。
<pizzaType>ベジタリアンピザ</pizzaType>お願い。
おいしい<pizzaType>チーズピザ</pizzaType>を<pizzaAmount>4つ</pizzaAmount>注文してちょうだい。
...
```
{% endraw %}

<div class="note">
  <p><strong>メモ</strong></p>
  <p>今後<a href="/DevConsole/Guides/CEK/Test_Extension.html#TestInteractionModel">対話モデルのテスト</a>や、実際のユーザーのログを参照して完成度を高めていくことができます。対話モデルをテストする際、サンプル発話の作成者ではない、他の人がテストすることをお勧めします。新たな言い方のパターンを見つけるのに役立ちます。</p>
</div>


[Clova Developer Center](/DevConsole/ClovaDevConsole_Overview.md)で[対話モデルを登録](/DevConsole/Guides/CEK/Register_Interaction_Model.md)すると、[登録されたCustom Extension](/DevConsole/Guides/CEK/Register_Extension.md)が次のようなJSONメッセージを受信します。

{% raw %}

```json
// カスタムインテント: ペパロニピザ2枚注文してちょうだい。
{
  "version": "0.1.0",
  "session": {
    "new": false,
    "sessionAttributes": {},
    "sessionId": "a29cfead-c5ba-474d-8745-6c1a6625f0c5",
    "user": {
      "userId": "V0qe",
      "accessToken": "XHapQasdfsdfFsdfasdflQQ7"
    }
  },
  "context": {
    "System": {
      "application": {
        "applicationId": "com.yourdomain.extension.pizzabot"
      },
      "user": {
        "userId": "V0qe",
        "accessToken": "XHapQasdfsdfFsdfasdflQQ7"
      },
      "device": {
        "deviceId": "096e6b27-1717-33e9-b0a7-510a48658a9b"
      }
    }
  },
  "request": {
    "type": "IntentRequest",
    "intent": {
      "name": "OrderPizza",
      "slots": {
        "pizzaAmount": {
          "name": "pizzaAmount",
          "value": "2"
        },
        "pizzaType": {
          "name": "pizzaType",
          "value": "ペパロニ"
        }
      }
    }
  }
}

// ビルトインインテント: キャンセルして
{
  "version": "0.1.0",
  "session": {
    "new": false,
    "sessionAttributes": {},
    "sessionId": "a29cfead-c5ba-474d-8745-6c1a6625f0c5",
    "user": {
      "userId": "V0qe",
      "accessToken": "XHapQasdfsdfFsdfasdflQQ7"
    }
  },
  "context": {
    "System": {
      "application": {
        "applicationId": "com.yourdomain.extension.pizzabot"
      },
      "user": {
        "userId": "V0qe",
        "accessToken": "XHapQasdfsdfFsdfasdflQQ7"
      },
      "device": {
        "deviceId": "096e6b27-1717-33e9-b0a7-510a48658a9b"
      }
    }
  },
  "request": {
    "type": "IntentRequest",
    "intent": {
      "name": "Clova.CancelIntent",
      "slots": {}
    }
  }
}
```

{% endraw %}

## 注意事項 {#Precautions}

Extensionを設計する際、以下のような社会的または法律的に問題がないかあらかじめ把握して、問題が発生しないように注意してください。Extensionの設計だけでなく、作成したExtensionをClovaに登録して配布する際にも、次の事項をもう一度検討することをお勧めします。

* 著作権法に違反する内容がないか
* プライバシーポリシーおよびコンプライアンスに違反する内容がないか
* サービスの接続やデータの提供が一回性ではなく、持続できるか
* 子供またはエンドユーザーに有害なコンテンツが含まれていないか

## プラットフォームでサポートされる音声圧縮形式 {#SupportedAudioCompressionFormat}

Extensionでオーディオコンテンツを提供する場合、必ずClovaでサポートされている音声圧縮形式で提供する必要があります。

{% include "/Design/SupportedMediaFormat/Supported_Audio_Compression_Format.md" %}

<div class="danger">
  <p><strong>注意</strong></p>
  <p>Clovaでサポートされていない音声圧縮形式でオーディオを提供すると、クライアントがオーディオを正常に再生できないことがあります。</p>
</div>

## 随時更新 {#ContinuousUpdate}

Extensionを開発する際、ユーザーがどんなフレーズを発するか予測してシナリオを作成し、Extensionに適用します。そのような活動はExtensionの開発に役立ちますが、実際のユーザーの使い方が予想と必ず一致するとは限らず、またユーザーのすべての使用パターンを代表しているとも限りません。ユーザーは当初の予想とは違った形でExtensionを使用する可能性があるのです。ユーザーのエクスペリエンスを向上させるためには、Extensionを配布してからも、Extensionの機能や対話の流れを持続的に改善する必要があります。

Extensionを登録した後、Clovaプラットフォームで提供される統計データや流入されたユーザーの発話のログ(今後サービス予定)を分析し、随時Extensionをアップデートする必要があります。

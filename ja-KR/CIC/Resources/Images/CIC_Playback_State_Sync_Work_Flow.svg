<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="763.946px" preserveAspectRatio="none" style="width:873px;height:763px;" version="1.1" viewBox="0 0 873 763" width="873.6033px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="38.8209" style="stroke: #000000; stroke-width: 0.9138110072689511;" width="9.1381" x="63.9668" y="61.435"/><rect fill="#FFFFFF" height="72.6319" style="stroke: #000000; stroke-width: 0.9138110072689511;" width="9.1381" x="63.9668" y="672.9906"/><rect fill="#FFFFFF" height="102.3147" style="stroke: #FFFFFF; stroke-width: 0.9138110072689511;" width="9.1381" x="262.2638" y="203.0115"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="262.2638" x2="262.2638" y1="203.0115" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="271.4019" x2="271.4019" y1="203.0115" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="262.2638" x2="271.4019" y1="203.0115" y2="203.0115"/><rect fill="#FFFFFF" height="156.6383" style="stroke: #FFFFFF; stroke-width: 0.9138110072689511;" width="9.1381" x="262.2638" y="364.251"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="262.2638" x2="262.2638" y1="364.251" y2="520.8892"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="271.4019" x2="271.4019" y1="364.251" y2="520.8892"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="262.2638" x2="271.4019" y1="520.8892" y2="520.8892"/><rect fill="#FFFFFF" height="41.1215" style="stroke: #FFFFFF; stroke-width: 0.9138110072689511;" width="9.1381" x="398.4216" y="264.2047"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="398.4216" x2="398.4216" y1="264.2047" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="407.5597" x2="407.5597" y1="264.2047" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="398.4216" x2="407.5597" y1="264.2047" y2="264.2047"/><rect fill="#FFFFFF" height="95.4451" style="stroke: #FFFFFF; stroke-width: 0.9138110072689511;" width="9.1381" x="398.4216" y="364.251"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="398.4216" x2="398.4216" y1="364.251" y2="459.696"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="407.5597" x2="407.5597" y1="364.251" y2="459.696"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="398.4216" x2="407.5597" y1="459.696" y2="459.696"/><rect fill="#FFFFFF" height="191.3631" style="stroke: #000000; stroke-width: 0.9138110072689511;" width="9.1381" x="730.135" y="100.256"/><rect fill="#FFFFFF" height="264.468" style="stroke: #000000; stroke-width: 0.9138110072689511;" width="9.1381" x="730.135" y="459.696"/><rect fill="#FFFFFF" height="184.9664" rx="4.5691" ry="4.5691" style="stroke: #000000; stroke-width: 1.8276220145379023;" width="576.1578" x="194.1848" y="113.9631"/><rect fill="#FFFFFF" height="157.5521" rx="4.5691" ry="4.5691" style="stroke: #000000; stroke-width: 1.8276220145379023;" width="576.1578" x="194.1848" y="370.6476"/><rect fill="#FFFFFF" height="139.308" rx="4.5691" ry="4.5691" style="stroke: #000000; stroke-width: 1.8276220145379023;" width="758.4631" x="11.8795" y="599.004"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="68.5358" x2="68.5358" y1="52.2969" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511; stroke-dasharray: 1.0,4.0;" x1="68.5358" x2="68.5358" y1="305.3262" y2="364.251"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="68.5358" x2="68.5358" y1="364.251" y2="753.8468"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="266.3759" x2="266.3759" y1="52.2969" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511; stroke-dasharray: 1.0,4.0;" x1="266.3759" x2="266.3759" y1="305.3262" y2="364.251"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="266.3759" x2="266.3759" y1="364.251" y2="753.8468"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="402.5337" x2="402.5337" y1="52.2969" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511; stroke-dasharray: 1.0,4.0;" x1="402.5337" x2="402.5337" y1="305.3262" y2="364.251"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="402.5337" x2="402.5337" y1="364.251" y2="753.8468"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="734.704" x2="734.704" y1="52.2969" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511; stroke-dasharray: 1.0,4.0;" x1="734.704" x2="734.704" y1="305.3262" y2="364.251"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="734.704" x2="734.704" y1="364.251" y2="753.8468"/><rect fill="#9EA0CA" height="48.6417" rx="4.5691" ry="4.5691" style="stroke: #FFFFFF; stroke-width: 1.3707165109034267;" width="95.0363" x="21.0177" y="2.7414"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.7934" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63.9668" x="36.5524" y="33.0373">Clova app</text><rect fill="#9EA0CA" height="48.6417" rx="4.5691" ry="4.5691" style="stroke: #FFFFFF; stroke-width: 1.3707165109034267;" width="127.0197" x="203.3229" y="2.7414"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.7934" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95.9502" x="218.8577" y="33.0373">Client device 1</text><rect fill="#9EA0CA" height="48.6417" rx="4.5691" ry="4.5691" style="stroke: #FFFFFF; stroke-width: 1.3707165109034267;" width="127.0197" x="339.4808" y="2.7414"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.7934" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95.9502" x="355.0156" y="33.0373">Client device 2</text><rect fill="#05D686" height="48.6417" rx="4.5691" ry="4.5691" style="stroke: #FFFFFF; stroke-width: 1.3707165109034267;" width="53.001" x="708.2035" y="2.7414"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.7934" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21.9315" x="723.7383" y="33.0373">CIC</text><rect fill="#FFFFFF" height="38.8209" style="stroke: #000000; stroke-width: 0.9138110072689511;" width="9.1381" x="63.9668" y="61.435"/><rect fill="#FFFFFF" height="72.6319" style="stroke: #000000; stroke-width: 0.9138110072689511;" width="9.1381" x="63.9668" y="672.9906"/><rect fill="#FFFFFF" height="102.3147" style="stroke: #FFFFFF; stroke-width: 0.9138110072689511;" width="9.1381" x="262.2638" y="203.0115"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="262.2638" x2="262.2638" y1="203.0115" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="271.4019" x2="271.4019" y1="203.0115" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="262.2638" x2="271.4019" y1="203.0115" y2="203.0115"/><rect fill="#FFFFFF" height="156.6383" style="stroke: #FFFFFF; stroke-width: 0.9138110072689511;" width="9.1381" x="262.2638" y="364.251"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="262.2638" x2="262.2638" y1="364.251" y2="520.8892"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="271.4019" x2="271.4019" y1="364.251" y2="520.8892"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="262.2638" x2="271.4019" y1="520.8892" y2="520.8892"/><rect fill="#FFFFFF" height="41.1215" style="stroke: #FFFFFF; stroke-width: 0.9138110072689511;" width="9.1381" x="398.4216" y="264.2047"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="398.4216" x2="398.4216" y1="264.2047" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="407.5597" x2="407.5597" y1="264.2047" y2="305.3262"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="398.4216" x2="407.5597" y1="264.2047" y2="264.2047"/><rect fill="#FFFFFF" height="95.4451" style="stroke: #FFFFFF; stroke-width: 0.9138110072689511;" width="9.1381" x="398.4216" y="364.251"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="398.4216" x2="398.4216" y1="364.251" y2="459.696"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="407.5597" x2="407.5597" y1="364.251" y2="459.696"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="398.4216" x2="407.5597" y1="459.696" y2="459.696"/><rect fill="#FFFFFF" height="191.3631" style="stroke: #000000; stroke-width: 0.9138110072689511;" width="9.1381" x="730.135" y="100.256"/><rect fill="#FFFFFF" height="264.468" style="stroke: #000000; stroke-width: 0.9138110072689511;" width="9.1381" x="730.135" y="459.696"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="728.3074" x2="719.1693" y1="100.256" y2="96.6007"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="728.3074" x2="719.1693" y1="100.256" y2="103.9112"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="68.5358" x2="729.2212" y1="100.256" y2="100.256"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="164.486" x="317.0924" y="86.8808">Request playback state of clients</text><path d="M198.7539,113.9631 L360.4984,113.9631 L360.4984,139.5498 L351.3603,148.6879 L194.1848,148.6879 L194.1848,118.5322 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9138110072689511;"/><rect fill="none" height="184.9664" rx="4.5691" ry="4.5691" style="stroke: #000000; stroke-width: 1.8276220145379023;" width="576.1578" x="194.1848" y="113.9631"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106.9159" x="217.0301" y="136.6674">Request state report</text><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="271.4019" x2="280.54" y1="203.0115" y2="199.3563"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="271.4019" x2="280.54" y1="203.0115" y2="206.6667"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="271.4019" x2="729.2212" y1="203.0115" y2="203.0115"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="286.9367" x="357.3001" y="174.5745">Forward AudioPlayer.ExpectReportPlaybackState directive</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="91.3811" x="455.0779" y="189.6363">(via downchannel)</text><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="407.5597" x2="416.6978" y1="264.2047" y2="260.5495"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="407.5597" x2="416.6978" y1="264.2047" y2="267.86"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="407.5597" x2="729.2212" y1="264.2047" y2="264.2047"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="286.9367" x="425.379" y="235.7677">Forward AudioPlayer.ExpectReportPlaybackState directive</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="91.3811" x="523.1568" y="250.8295">(via downchannel)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="207.4351" x="297.9024" y="339.91">After collecting playback state from clients</text><path d="M198.7539,370.6476 L317.5493,370.6476 L317.5493,396.2343 L308.4112,405.3725 L194.1848,405.3725 L194.1848,375.2167 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9138110072689511;"/><rect fill="none" height="157.5521" rx="4.5691" ry="4.5691" style="stroke: #000000; stroke-width: 1.8276220145379023;" width="576.1578" x="194.1848" y="370.6476"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63.9668" x="217.0301" y="393.3519">Report state</text><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="728.3074" x2="719.1693" y1="459.696" y2="456.0408"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="728.3074" x2="719.1693" y1="459.696" y2="463.3513"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="402.9907" x2="729.2212" y1="459.696" y2="459.696"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="224.7975" x="454.1641" y="431.259">Send AudioPlayer.ReportPlaybackState event</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="130.675" x="501.2253" y="446.3208">(Reporting playback state)</text><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="728.3074" x2="719.1693" y1="520.8892" y2="517.234"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="728.3074" x2="719.1693" y1="520.8892" y2="524.5445"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="266.8328" x2="729.2212" y1="520.8892" y2="520.8892"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="224.7975" x="386.0852" y="492.4522">Send AudioPlayer.ReportPlaybackState event</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="130.675" x="433.1464" y="507.514">(Reporting playback state)</text><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="739.2731" x2="777.6532" y1="573.4173" y2="573.4173"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="777.6532" x2="777.6532" y1="573.4173" y2="585.2968"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="740.1869" x2="777.6532" y1="585.2968" y2="585.2968"/><polygon fill="#000000" points="749.325,581.6416,740.1869,585.2968,749.325,588.9521,745.6698,585.2968" style="stroke: #000000; stroke-width: 0.9138110072689511;"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="107.8297" x="754.8079" y="560.0421">Refine collected state</text><path d="M16.4486,599.004 L164.486,599.004 L164.486,624.5907 L155.3479,633.7288 L11.8795,633.7288 L11.8795,603.5731 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9138110072689511;"/><rect fill="none" height="139.308" rx="4.5691" ry="4.5691" style="stroke: #000000; stroke-width: 1.8276220145379023;" width="758.4631" x="11.8795" y="599.004"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93.2087" x="34.7248" y="621.7083">Synchronize state</text><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="73.1049" x2="82.243" y1="672.9906" y2="669.3353"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="73.1049" x2="82.243" y1="672.9906" y2="676.6458"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="73.1049" x2="729.2212" y1="672.9906" y2="672.9906"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="104.1745" x="349.5327" y="659.6154">Share playback state</text><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="73.1049" x2="111.4849" y1="723.691" y2="723.691"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="111.4849" x2="111.4849" y1="723.691" y2="735.5706"/><line style="stroke: #000000; stroke-width: 0.9138110072689511;" x1="68.5358" x2="111.4849" y1="735.5706" y2="735.5706"/><polygon fill="#000000" points="77.6739,731.9153,68.5358,735.5706,77.6739,739.2258,74.0187,735.5706" style="stroke: #000000; stroke-width: 0.9138110072689511;"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.9657" lengthAdjust="spacingAndGlyphs" textLength="158.0893" x="88.6397" y="710.3158">Update playback state of clients</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Malgun Gothic", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Clova app" as ca #9EA0CA
participant "Client device 1" as cli1 #9EA0CA
participant "Client device 2" as cli2 #9EA0CA
participant CIC as cic #05D686

activate ca
  ca ->> cic : Request playback state of clients
deactivate ca

group Request state report

  activate cic

    cic ->> cli1 : Forward AudioPlayer.ExpectReportPlaybackState directive\n(via downchannel)
    activate cli1

    cic ->> cli2 : Forward AudioPlayer.ExpectReportPlaybackState directive\n(via downchannel)
    activate cli2

  deactivate cic

end

...After collecting playback state from clients...

group Report state

    cli2 ->> cic : Send AudioPlayer.ReportPlaybackState event\n(Reporting playback state)
    deactivate cli2
  activate cic

    cli1 ->> cic : Send AudioPlayer.ReportPlaybackState event\n(Reporting playback state)
    deactivate cli1

end

    cic -> cic : Refine collected state

group Synchronize state

    cic ->> ca : Share playback state
    activate ca

    ca -> ca : Update playback state of clients

  deactivate cic

end

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS949
Language: en
Country: US
--></g></svg>
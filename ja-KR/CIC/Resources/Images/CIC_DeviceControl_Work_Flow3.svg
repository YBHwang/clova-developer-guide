<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1448.3702px" preserveAspectRatio="none" style="width:883px;height:1448px;" version="1.1" viewBox="0 0 883 1448" width="883.5412px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="44.6927" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;" width="8.8531" x="88.0885" y="99.582"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="88.0885" y1="99.582" y2="144.2747"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="96.9416" y1="99.582" y2="144.2747"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="96.9416" y1="99.582" y2="99.582"/><rect fill="#FFFFFF" height="1190.4289" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;" width="8.8531" x="88.0885" y="186.7697"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="88.0885" y1="186.7697" y2="1377.1986"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="96.9416" y1="186.7697" y2="1377.1986"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="96.9416" y1="1377.1986" y2="1377.1986"/><rect fill="#FFFFFF" height="115.4865" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="283.6646"/><rect fill="#FFFFFF" height="203.5284" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="568.3866"/><rect fill="#FFFFFF" height="456.6134" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="875.8925"/><rect fill="#FFFFFF" height="1197.5114" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="565.2716" y="224.3799"/><rect fill="#FFFFFF" height="205.7261" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="404.5875" x="206.7203" y="463.0968"/><rect fill="#FFFFFF" height="93.3537" style="stroke: none; stroke-width: 0.8853118712273642;" width="404.5875" x="206.7203" y="575.4691"/><rect fill="#FFFFFF" height="444.2191" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="862.2938" x="11.5091" y="785.1947"/><rect fill="#FFFFFF" height="224.0937" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="658.2294" x="206.7203" y="999.1229"/><rect fill="#FFFFFF" height="61.0554" style="stroke: none; stroke-width: 0.8853118712273642;" width="658.2294" x="206.7203" y="1162.1612"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="92.0724" x2="92.0724" y1="90.7289" y2="144.2747"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 1.0,4.0;" x1="92.0724" x2="92.0724" y1="144.2747" y2="186.7697"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="92.0724" x2="92.0724" y1="186.7697" y2="1437.8269"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="270.4628" x2="270.4628" y1="90.7289" y2="144.2747"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 1.0,4.0;" x1="270.4628" x2="270.4628" y1="144.2747" y2="186.7697"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="270.4628" x2="270.4628" y1="186.7697" y2="1437.8269"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="569.6982" x2="569.6982" y1="90.7289" y2="144.2747"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 1.0,4.0;" x1="569.6982" x2="569.6982" y1="144.2747" y2="186.7697"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="569.6982" x2="569.6982" y1="186.7697" y2="1437.8269"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="824.668" x2="824.668" y1="90.7289" y2="144.2747"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 1.0,4.0;" x1="824.668" x2="824.668" y1="144.2747" y2="186.7697"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="824.668" x2="824.668" y1="186.7697" y2="1437.8269"/><rect fill="#9EA0CA" height="47.1247" rx="4.4266" ry="4.4266" style="stroke: #FFFFFF; stroke-width: 1.3279678068410463;" width="144.3058" x="20.3622" y="42.7189"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114.2052" x="35.4125" y="72.0699">Bluetoothデバイス</text><rect fill="#9EA0CA" height="47.1247" rx="4.4266" ry="4.4266" style="stroke: #FFFFFF; stroke-width: 1.3279678068410463;" width="109.7787" x="215.5734" y="42.7189"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79.6781" x="230.6237" y="72.0699">クライアント</text><rect fill="#05D686" height="47.1247" rx="4.4266" ry="4.4266" style="stroke: #FFFFFF; stroke-width: 1.3279678068410463;" width="65.5131" x="536.9416" y="42.7189"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35.4125" x="551.992" y="72.0699">Clova</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46.0362" x="798.994" y="79.5415">ユーザー</text><ellipse cx="824.668" cy="11.5091" fill="#FFFFFF" rx="7.0825" ry="7.0825" style="stroke: #000000; stroke-width: 1.7706237424547284;"/><path d="M824.668,18.5915 L824.668,42.495 M813.159,25.674 L836.1771,25.674 M824.668,42.495 L813.159,55.7746 M824.668,42.495 L836.1771,55.7746 " fill="none" style="stroke: #000000; stroke-width: 1.7706237424547284;"/><rect fill="#FFFFFF" height="44.6927" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;" width="8.8531" x="88.0885" y="99.582"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="88.0885" y1="99.582" y2="144.2747"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="96.9416" y1="99.582" y2="144.2747"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="96.9416" y1="99.582" y2="99.582"/><rect fill="#FFFFFF" height="1190.4289" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;" width="8.8531" x="88.0885" y="186.7697"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="88.0885" y1="186.7697" y2="1377.1986"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="96.9416" y1="186.7697" y2="1377.1986"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="96.9416" y1="1377.1986" y2="1377.1986"/><rect fill="#FFFFFF" height="115.4865" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="283.6646"/><rect fill="#FFFFFF" height="203.5284" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="568.3866"/><rect fill="#FFFFFF" height="456.6134" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="875.8925"/><rect fill="#FFFFFF" height="1197.5114" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="565.2716" y="224.3799"/><polygon fill="#000000" points="259.839,133.651,268.6922,137.1922,259.839,140.7335,263.3803,137.1922" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="265.1509" y1="137.1922" y2="137.1922"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="53.1187" x="157.1429" y="124.2342">Advertising</text><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="574.1247" x2="582.9779" y1="224.3799" y2="220.8386"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="574.1247" x2="582.9779" y1="224.3799" y2="227.9211"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="574.1247" x2="823.7827" y1="224.3799" y2="224.3799"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="216.0161" x="591.3883" y="211.4218">Bluetoothデバイスとの接続をリクエストする</text><polygon fill="#000000" points="284.6278,280.1234,275.7746,283.6646,284.6278,287.2059,281.0865,283.6646" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="279.3159" x2="564.3863" y1="283.6646" y2="283.6646"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="137.2233" x="351.4688" y="256.1145">DeviceControl.BtStartPairing</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="127.4849" x="356.338" y="270.7066">ディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="274.8893" x2="312.0724" y1="328.3573" y2="328.3573"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="312.0724" x2="312.0724" y1="328.3573" y2="339.8664"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="275.7746" x2="312.0724" y1="339.8664" y2="339.8664"/><polygon fill="#000000" points="284.6278,336.3251,275.7746,339.8664,284.6278,343.4076,281.0865,339.8664" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="63.7425" x="289.9396" y="315.3993">スキャンする</text><polygon fill="#000000" points="554.6479,395.6099,563.501,399.1512,554.6479,402.6924,558.1891,399.1512" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="270.4628" x2="559.9598" y1="399.1512" y2="399.1512"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="251.4286" x="292.1529" y="371.601">DeviceControl.ActionExecuted(DeviceStateを含める)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="370.0604" y="386.1931">イベントを送信する</text><polygon fill="#9EA0CA" points="39.839,410.6602,322.2535,410.6602,331.1066,431.0224,322.2535,452.2699,39.839,452.2699,30.9859,431.0224,39.839,410.6602" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193.8833" x="84.326" y="437.3553">Bluetoothデバイスが検出される</text><path d="M211.1469,463.0968 L276.66,463.0968 L276.66,487.8855 L267.8068,496.7386 L206.7203,496.7386 L206.7203,467.5233 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><rect fill="none" height="205.7261" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="404.5875" x="206.7203" y="463.0968"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12.3944" x="228.8531" y="485.093">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208.9336" x="298.7928" y="485.9783">[特定のデバイスが指定されたか == はい]</text><polygon fill="#000000" points="284.6278,564.8454,275.7746,568.3866,284.6278,571.9279,281.0865,568.3866" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="279.3159" x2="564.3863" y1="568.3866" y2="568.3866"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="223.9839" x="308.0885" y="540.8365">DeviceControl.BtConnect(ペイロードを含める)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="127.4849" x="356.338" y="555.4286">ディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="206.7203" x2="611.3078" y1="576.3545" y2="576.3545"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="220.4427" x="220" y="597.4653">[特定のデバイスが指定されたか == いいえ]</text><polygon fill="#000000" points="284.6278,658.1991,275.7746,661.7404,284.6278,665.2816,281.0865,661.7404" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="279.3159" x2="564.3863" y1="661.7404" y2="661.7404"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="234.6076" x="302.7767" y="634.1902">DeviceControl.BtConnect(ペイロードを含めない)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="127.4849" x="356.338" y="648.7823">ディレクティブを送信する</text><polygon fill="#000000" points="106.6801,709.089,97.827,712.6302,106.6801,716.1715,103.1388,712.6302" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="101.3682" x2="265.1509" y1="712.6302" y2="712.6302"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="106.2374" x="128.3702" y="699.6722">接続をリクエストする</text><polygon fill="#000000" points="554.6479,768.3738,563.501,771.915,554.6479,775.4563,558.1891,771.915" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="270.4628" x2="559.9598" y1="771.915" y2="771.915"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="251.4286" x="292.1529" y="744.3649">DeviceControl.ActionExecuted(DeviceStateを含める)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="370.0604" y="758.9569">イベントを送信する</text><path d="M15.9356,785.1947 L81.4487,785.1947 L81.4487,809.9834 L72.5956,818.8365 L11.5091,818.8365 L11.5091,789.6212 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><rect fill="none" height="444.2191" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="862.2938" x="11.5091" y="785.1947"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12.3944" x="33.6419" y="807.1909">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202.7364" x="103.5815" y="808.0762">[PINコードを必要としているか == はい]</text><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="264.2656" x2="255.4125" y1="875.8925" y2="872.3512"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="264.2656" x2="255.4125" y1="875.8925" y2="879.4337"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="265.1509" y1="875.8925" y2="875.8925"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="134.5674" x="114.2052" y="862.9344">PINコードをリクエストする</text><polygon fill="#000000" points="554.6479,931.636,563.501,935.1772,554.6479,938.7185,558.1891,935.1772" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="274.8893" x2="559.9598" y1="935.1772" y2="935.1772"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="182.3742" x="328.8934" y="907.6271">DeviceControl.BtRequestForPINCode</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="372.2736" y="922.2192">イベントを送信する</text><polygon fill="#05D686" points="547.1227,946.6863,847.2435,946.6863,856.0966,967.0485,847.2435,988.2959,547.1227,988.2959,538.2696,967.0485,547.1227,946.6863" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="219.5573" x="587.4044" y="973.3814">PINコードをリクエストし、入力する</text><path d="M211.1469,999.1229 L276.66,999.1229 L276.66,1023.9116 L267.8068,1032.7647 L206.7203,1032.7647 L206.7203,1003.5494 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><rect fill="none" height="224.0937" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="658.2294" x="206.7203" y="999.1229"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12.3944" x="228.8531" y="1021.1191">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="289.497" x="298.7928" y="1022.0044">[コードの入力をキャンセルしたと判断されるか == はい]</text><polygon fill="#000000" points="554.6479,1100.8715,563.501,1104.4127,554.6479,1107.954,558.1891,1104.4127" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="274.8893" x2="559.9598" y1="1104.4127" y2="1104.4127"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="213.3602" x="313.4004" y="1076.8626">DeviceControl.BtRequestToCancelPINCode</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="372.2736" y="1091.4547">イベントを送信する</text><polygon fill="#05D686" points="547.1227,1115.9218,847.2435,1115.9218,856.0966,1136.284,847.2435,1157.5314,547.1227,1157.5314,538.2696,1136.284,547.1227,1115.9218" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246.1167" x="574.1247" y="1142.6169">PINコードのリクエストをキャンセルする</text><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="206.7203" x2="864.9497" y1="1163.0465" y2="1163.0465"/><polygon fill="#000000" points="284.6278,1212.5928,275.7746,1216.1341,284.6278,1219.6753,281.0865,1216.1341" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="279.3159" x2="564.3863" y1="1216.1341" y2="1216.1341"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="177.0624" x="331.5493" y="1188.5839">DeviceControl.BtConnectByPINCode</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="127.4849" x="356.338" y="1203.176">ディレクティブを送信する</text><polygon fill="#000000" points="106.6801,1269.6799,97.827,1273.2211,106.6801,1276.7624,103.1388,1273.2211" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="101.3682" x2="265.1509" y1="1273.2211" y2="1273.2211"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="102.6962" x="130.1408" y="1260.2631">PINコードで接続する</text><polygon fill="#000000" points="554.6479,1328.9646,563.501,1332.5059,554.6479,1336.0471,558.1891,1332.5059" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="270.4628" x2="559.9598" y1="1332.5059" y2="1332.5059"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="144.3058" x="345.7143" y="1304.9558">DeviceControl.ActionExecuted</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="370.0604" y="1319.5478">イベントを送信する</text><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="268.6922" x2="259.839" y1="1377.1986" y2="1373.6573"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="268.6922" x2="259.839" y1="1377.1986" y2="1380.7398"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="92.5151" x2="269.5775" y1="1377.1986" y2="1377.1986"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="42.495" x="160.2414" y="1364.2405">接続結果</text><polygon fill="#000000" points="814.0443,1418.35,822.8974,1421.8913,814.0443,1425.4325,817.5855,1421.8913" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="569.6982" x2="819.3561" y1="1421.8913" y2="1421.8913"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="649.3763" y="1408.9332">接続結果を通知する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Malgun Gothic", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Bluetoothデバイス" as device #9EA0CA
participant クライアント as client #9EA0CA
participant "Clova" as clova #05D686
actor ユーザー as user #9EA0
activate device
device -> client: Advertising
...
user ->> clova : Bluetoothデバイスとの接続をリクエストする
activate clova
  clova -> client : DeviceControl.BtStartPairing\nディレクティブを送信する

activate client
  client -> client : スキャンする
  client - -> clova : DeviceControl.ActionExecuted(DeviceStateを含める)\nイベントを送信する
  hnote over client, device : Bluetoothデバイスが検出される
deactivate client

 alt 特定のデバイスが指定されたか == はい
	clova -> client : DeviceControl.BtConnect(ペイロードを含める)\nディレクティブを送信する

	activate client
 else 特定のデバイスが指定されたか == いいえ
    clova -> client : DeviceControl.BtConnect(ペイロードを含めない)\nディレクティブを送信する
end

  client -> device : 接続をリクエストする
  client - -> clova : DeviceControl.ActionExecuted(DeviceStateを含める)\nイベントを送信する

	deactivate client
  alt PINコードを必要としているか == はい
	device ->> client : PINコードをリクエストする

	activate client
	client -> clova : DeviceControl.BtRequestForPINCode\nイベントを送信する
    hnote over clova, user #05D686 : PINコードをリクエストし、入力する

    alt コードの入力をキャンセルしたと判断されるか == はい
		client -> clova : DeviceControl.BtRequestToCancelPINCode\nイベントを送信する
		hnote over clova, user #05D686 : PINコードのリクエストをキャンセルする
    else
 		clova -> client : DeviceControl.BtConnectByPINCode\nディレクティブを送信する
	end
  end
    client -> device : PINコードで接続する
    client -> clova : DeviceControl.ActionExecuted\nイベントを送信する

	deactivate client
	device - ->> client : 接続結果
 deactivate device

  clova -> user : 接続結果を通知する

deactivate clova

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS949
Language: en
Country: US
--></g></svg>